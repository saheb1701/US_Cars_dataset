# -*- coding: utf-8 -*-
"""Untitled0.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1U_SyCgkBEmy49d9nKrXWO96L4UlRyhYl
"""

import pandas as pd

df = pd.read_csv("USA_cars_datasets.csv")

type(df)

df.head(5)

df['price']

df.isnull()

df.isnull().sum()

df['brand'].unique()

df['year'].unique()

df['title_status'].unique()

df['price'].sum()

len(df['mileage'])

df['mileage'].sum()

del df['vin']

del df['lot']

df.head()

df['mileage'].min()

df['price'].max()

df['brand'] == 'toyota'

df[df['brand'] == 'toyota']

df['brand'] == 'ford'

df[df['brand'] == 'ford']

for brand in df['brand'].unique():
  print(brand)

for brand in df['brand'].unique():
  print(brand, ":" , len(df[df['brand']==brand]))

for model in df['model'].unique():
  print(model, ":" , len(df[df['model']==model]))

"""# TOP 5 CAR BRANDS IN TERMS OF NO.OF BRANDS"""

data = []
for year in df['year'].unique():
  data.append([year , len(df[df['year']==year])])

data =pd.DataFrame(data , columns=['year' , 'freq'])
   data =data.sort_values(by='year' , ascending=False)
   data.plot(x='year' , y='freq' , kind='line' , figsize=(10,5))

data = []
for color in df['color'].unique():
  data.append([color , len(df[df['color']==color])])

data =pd.DataFrame(data , columns=['color' , 'freq'])
   data =data.sort_values(by='freq' , ascending=False)
   data.plot(x='color' , y='freq' , kind='bar' , figsize=(10,5))

"""###WGICH CAR BRAND HAS MAXIMUM PRICE"""

df.groupby('brand').mean()['price']

df.groupby('brand').mean()['price'].sort_values(ascending=True)

df.groupby('brand').mean()['price'].sort_values(ascending=True).plot.bar(figsize=(20,10))

import matplotlib.pyplot as plt

"""##WHICH STATE IS HAVING MORE EXPENSIVE CARS

"""

plt.figure(figsize=(30,10))
df.groupby('state').mean()['price'].sort_values(ascending=True).plot.bar(figsize=(20,10) , color='green')
plt.grid()
plt.show()